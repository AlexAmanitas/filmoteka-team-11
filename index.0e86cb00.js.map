{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAa,IAAI,E,WAAAC,SAEvBH,EAAAI,KAAKC,cAAcC,iBAAiB,SAEpC,WACEN,EAAAI,KAAKG,SAASC,UAAUC,IAAI,kB,IAG9BT,EAAAI,KAAKM,SAASJ,iBAAiB,SAE/B,SAAiBK,GACfA,EAAIC,iBACJC,QAAQC,IAAIH,EAAII,KAAK,IACLb,EAAWc,mBAAmBL,EAAII,KAAK,GAAGE,IAClDC,MAAK,SAAAC,G,OACXnB,EAAAI,KAAKG,SAASa,aACZ,QACA,8DAAgFC,OAAlBF,EAAIG,cAAc,6D,IAGpFtB,EAAAI,KAAKG,SAASC,UAAUe,OAAO,kB","sources":["src/js/modal_film_cart.js"],"sourcesContent":["import { refs } from './refs';\nimport FilmApiService from './movie_database_api';\nconst apiRequest = new FilmApiService();\n\nrefs.closeModalBtn.addEventListener('click', toggleModal);\n\nfunction toggleModal() {\n  refs.backdrop.classList.add('visually-hidden');\n}\n\nrefs.filmList.addEventListener('click', onClick);\n\nfunction onClick(evt) {\n  evt.preventDefault();\n  console.log(evt.path[2]);\n  const details = apiRequest.fetchMoviesDetails(evt.path[2].id);\n  details.then(res =>\n    refs.backdrop.setAttribute(\n      'style',\n      `background-image: url(\"https://image.tmdb.org/t/p/original/${res.backdrop_path}\"); background-size: cover; background-position: 50% 50%;`\n    )\n  );\n  refs.backdrop.classList.remove('visually-hidden');\n}\n\n// Закрытие по клику вне поля модального окна\n// const backdropik = document.querySelector(‘.backdrop’);\n// const box = document.querySelector(‘.modal-container’);\n// document.addEventListener(‘click’, e => {\n//   const click = e.composedPath().includes(box, backdropik);\n//   if (!click) {\n//     box.style.display = ‘none’;\n//     backdropik.style.display = ‘none’;\n//   }\n// });\n"],"names":["$4Nugj","parcelRequire","$3e445f93c302a717$var$apiRequest","default","refs","closeModalBtn","addEventListener","backdrop","classList","add","filmList","evt","preventDefault","console","log","path","fetchMoviesDetails","id","then","res","setAttribute","concat","backdrop_path","remove"],"version":3,"file":"index.0e86cb00.js.map"}